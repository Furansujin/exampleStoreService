var loadGoogleMaps=function(){var a=!1;return function(b){var c=this;if(a)"function"==typeof b&&b.call(c);else{var d=SitePreferences.GoogleMapsUrl,f=SitePreferences.GoogleMapsApiKey;if(d&&f){var e=document.createElement("script");e.type="text/javascript";e.src=d+"key\x3d"+f;e.onload=function(){"function"==typeof b&&b.call(c)};document.body.appendChild(e);a=!0}}}}();function getCookie(a){if(!("string"==typeof a||a instanceof String))return"";for(var b=a+"\x3d",c=decodeURIComponent(document.cookie).split(";"),d=0;d<c.length;d++){for(a=c[d];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(b))return a.substring(b.length,a.length)}return""}function appendParamToURL(a,b,c){return-1!==a.indexOf(b+"\x3d")?a:a+(-1!==a.indexOf("?")?"\x26":"?")+b+"\x3d"+encodeURIComponent(c)}
var userFirstName,headerwelcome,loadAccountLayer=!0,headerItemAccount=document.getElementById("header-item-account"),headerLinkText=headerItemAccount?headerItemAccount.getElementsByClassName("header-link-text")[0]:null,headerLink=headerItemAccount?headerItemAccount.getElementsByClassName("header-link")[0]:null;headerLinkText&&headerLink&&(User.CustomerId?(userFirstName=getCookie("fname"),headerwelcome="",userFirstName&&(userFirstName=10>(userFirstName=decodeURIComponent(userFirstName)).length?Resources.ACCOUNT_HEADER_WELCOME.replace("{0}",userFirstName):userFirstName.substring(0,20),headerLinkText.innerHTML=userFirstName),headerLink.setAttribute("href",Urls.showAccount)):(headerLinkText.textContent=Resources.ACCOUNT_HEADER_TITLE,headerLink.setAttribute("href",Urls.showLogin)));document.addEventListener("DOMContentLoaded",function(){$("#header-item-account").hover(function(a){a.preventDefault();loadAccountLayer&&(loadAccountLayer=!1,$(".account-layer.header-layer-content").load(Urls.headerAccountLayer,function(){var a=$("#header-item-account").find(".left-side");$(this).find("img[data-src].lazy-image").each(function(){var a=$(this);null!=a.data("src")&&a.attr("src",a.data("src"));a.one("load",function(){this.style.opacity=1})});$(".last-order-details").length?a.addClass("with-last-order"):a.removeClass("with-last-order")}))})});var loadStoreLayer=!0;document.addEventListener("DOMContentLoaded",function(){$("#header-item-storelocator").hover(function(a){a.preventDefault();loadStoreLayer&&(loadStoreLayer=!1,$.ajax({url:appendParamToURL(Urls.getStorelocatorHeaderItem,"hideHeader",!0),success:function(a){loadGoogleMaps();a&&$(".header-layer-content.store-content").replaceWith(a)}}))})});document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("header-item-minicart"),b=document.getElementsByClassName("mobile-header")[0],c=b?b.getElementsByClassName("top-right")[0]:null,d=document.getElementsByClassName("desktop-header")[0];a&&c&&d&&(window.matchMedia("(max-width: 1023px)").matches&&c.appendChild(a),window.onresize=function(){window.matchMedia("(max-width: 1023px)").matches?c.appendChild(a):d.getElementsByClassName("header-links")[0].appendChild(a)})});