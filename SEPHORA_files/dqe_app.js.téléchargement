!function(h){function k(c){var k={},n={};c=c.replace("/?","?");var a=/.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/.exec(c)[1];k.serviceId=a.substr(a.lastIndexOf("/")+1);delete(n=Util.getQueryStringParams(Util.getQueryString(c))).Licence;c=Object.keys(n);return h.each(c,function(a,e){k["dqe"+e]=n[e]}),k}h.fn.dqe=function(c){function r(a,e,d){for(var b="",g=(a+="").length,c=e.length,l=a.indexOf(e);-1<l;)b+=a.substring(0,l)+d,l=(a=a.substring(l+c,g)).indexOf(e);return""!=a&&(b+=a),b}function n(b,e){if(!e||!b)return b;var d=a.remove_accents(b).toLowerCase(),f=a.remove_accents(e).toLowerCase(),g="";e=e.length;for(var c=d.indexOf(f);-1<c;)g+=b.substr(0,c)+"{"+b.substr(c,e)+"}",b=b.substr(c+e),c=(d=d.substr(c+e)).indexOf(f);return""!=b&&(g+=b),g}var a=this;a.render_item=function(a,e){var b=this.term;if(-1<b.indexOf(" "))for(var b=b.split(" "),f=b.length,g=e.label,c=0;c<f;c++)g=n(g,b[c]);else g=n(e.label,this.term);return g=r(g,"{","\x3cstrong\x3e"),g=r(g,"}","\x3c/strong\x3e"),g=r(g,"|",'\x3cbr/\x3e\x3cspan style\x3d"color:#070"\x3e')+
"\x3c/span\x3e",g=r(g,"[",'\x3cspan class\x3d"ko"\x3e'),g=r(g,"]","\x3c/span\x3e"),h("\x3cli\x3e\x3c/li\x3e").data("item.autocomplete",e).append("\x3cdiv\x3e"+g+"\x3c/div\x3e").appendTo(a)};a.zip_pattern={FRA:/^\d{5}$/,DEU:/^\d{5}$/,AUT:/^\d{4}$/,BEL:/^\d{4}$/,CAN:/^[A-Z\d]{3} ?[A-Z\d]{3}$/,KOR:/^\d{3}[ -]?\d{3}$/,ESP:/^\d{5}$/,USA:/^([A-Z]{2})?[ -]?\d{5}[ -]?(\d{4})?$/i,ISR:/^\d{5}$/,ITA:/^\d{5}$/,JPN:/^\d{3}[ -]\d{4}$/,"JPN-en":/^\d{3}[ -]\d{4}$/,LUX:/^L?-?\d{4}$/i,NLD:/^\d{4} ?([A-Z]{2})?$/,POL:/^\d\d-?\d{3}$/,PRT:/^\d{4}-?\d{3}$/,CZE:/^\d{3} ?\d{2}$/,ROU:/^\d{6}$/,GBR:/^[A-Z][A-Z\d]{1,3} ?\d[A-Z]{2}$/i,SGP:/^\d{6}$/,SVN:/^\d{4}$/,SWE:/^(SE)?-?\d{3} ?\d{2}$/,CHE:/^\d{4}$/,TUR:/^\d{5}$/,CHN:/^\d{6}$/,"CHN-en":/^\d{6}$/,RUS:/^\d{6}$/,NOR:/^\d{4}$/,DNK:/^\d{4}$/,FIN:/^\d{5}$/,THA:/^\d{5}$/,MAR:/^\d{5}$/,HUN:/^\d{4}$/,HKG:/^.*$/,"HKG-en":/^.*$/,QAT:/^.*$/,NZL:/^\d{4}$/,HRV:/^(HR)?-?\d{5}$/};a.reversed_countries={AUT:1,BEL:1,CHE:1,CZE:1,DEU:1,ESP:1,HRV:1,ISR:1,ITA:1,NLD:1,POL:1,PRT:1,ROU:1,SWE:1,TUR:1,RUS:1,SVN:1,DNK:1,FIN:1,HUN:1,NOR:1};a.has_number=function(b){if(!(b=a.trim(b)))return!1;var e=a.selected_country();b=a.reversed_countries[e]?b.charCodeAt(b.length-1):b.charCodeAt(0);return 48<=b&&57>=b};a.specific_charset=function(){return!!{CHN:1,RUS:1,THA:1,SGP:1,ISR:1,DNK:1,SVN:1,"CHN-en":1,HRV:1,HKG:1,"HKG-en":1,JPN:1,DEU:1}[a.selected_country()]};a.fast_country=function(){return!!{FRA:1,GBR:1,LUX:1,BEL:1,ESP:1,NLD:1,DEU:1,CH2:1,MAR:1,POL:1,ARE:1,SAU:1}[a.selected_country()]};a.udecode=function(a){return-1==a.indexOf("\\\\u")?a:a=a.replace(/\\\\u([\d\w]{4})/gi,function(a,b){return String.fromCharCode(parseInt(b,16))})};c=h.extend({country:"FRA",trace:0,license:"",append_locality:0},c);return a.settings=c,a.server=c.server,a.license=c.license,a.city=!!c.city&&h(c.city),a.zip=!!c.zip&&h(c.zip),a.street=!!c.street&&h(c.street),a.number=!!c.number&&h(c.number),a.compl=!!c.compl&&h(c.compl),a.local=!!c.local&&h(c.local),a.prov=!!c.prov&&h(c.prov),a.zipcity=!!c.zipcity&&h(c.zipcity),a.company=!!c.company&&h(c.company),a.single=!!c.single&&h(c.single),a.geoloc=c.geoloc||!1,a.city_search=c.city_search?1:0,a.min_bound=c.min_bound||-1,a.max_bound=c.max_bound||-1,a.force_nums=c.force_nums||{},a.countryField=3!==c.country.length&&h(c.country),a.country=c.country,a.lat=0,a.lon=0,a.nearest&&a.single&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){b=b.coords;a.lat=b.latitude||0;a.lon=b.longitude||0},function(){a.lat=0;a.lon=0},{enableHighAccuracy:!0,timeout:1E4,maximumAge:0}),a.countryField&&a.countryField.off("change.dqeEvent").on("change.dqeEvent",function(){a.clearSection("zip");a.clearSection("zipcity");a.clearSection("single");a.activate_zipcity_autocomplete();a.activate_single_autocomplete();a.zip.off("change",a.show_cities);a.zip_pattern.hasOwnProperty(h(this).val())||a.zip.off("change.dqeEvent").on("change.dqeEvent",function(){a.zip.is(":visible")&&a.show_cities()})}),a.asmx=-1<a.server.toLowerCase().indexOf(".asmx"),"jsonp"===a.server?a.ajax=function(b,e){h.ajax({url:b,dataType:"jsonp",jsonp:"callback",success:function(b){b=(b=a.specific_charset()?a.udecode(b):b)||"{}";e(JSON.parse(b))}})}:"cors"==a.server?a.ajax=function(b,e){h.ajax({url:b,method:"GET",dataType:"text",crossdomain:!0,success:function(b){b=(b=a.specific_charset()?a.udecode(b):b)||"{}";e(JSON.parse(b))}})}:a.ajax=function(b,e){h.ajax({url:a.server,data:k(b),method:"POST",dataType:"text",success:function(b){b=(b=b&&a.specific_charset()?a.udecode(b):b)?JSON.parse(b):{};e(b)}})},a.asmx&&(h.ajaxSetup({type:"POST",contentType:"application/json; charset\x3dutf-8",data:"{}",processData:!1,dataFilter:function(a){return a="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse(a):eval("("+a+")"),a.hasOwnProperty("d")?a.d:a}}),h.ajaxPrefilter(function(a,e,d){a.data=JSON.stringify(e.data)})),a.override_reset=function(){a.zip_override=!0;a.city_override=!0;a.street_override=!0;a.selected_zip_value="";a.selected_city_value="";a.selected_street_value="";a.selected_zipcity_value=""},a.remove_accents=function(a){for(var b,d,f=a.length,g="",c=0;c<f;c++)d=a.charAt(c),g+=-1==(b="ÀÁÂÃÄÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÇçàáâãèéêëîïòôõöùúûüñ".indexOf(d))?d:"AAAAAEEEEIIIIOOOOOUUUUCcaaaaeeeeiioooouuuun".charAt(b);return g},a.override_events=function(){a.override_reset();a.city&&a.city.on("input.dqeEvent",function(){var b=a.city.val();b&&a.selected_city_value&&b==a.selected_city_value?a.override(!1,"city"):a.override(!0,"city")});a.street&&a.street.on("input.dqeEvent",function(){var b=a.street.val();b&&a.selected_street_value&&0<=b.indexOf(a.selected_street_value)?a.override(!1,"street"):a.override(!0,"street")});a.zipcity&&a.zipcity.on("input.dqeEvent",function(){var b=a.zipcity.val();a.selected_zipcity_value&&b!==a.selected_zipcity_value?(a.override(!0,"zip"),a.override(!0,"city")):b&&b==a.selected_zipcity_value&&(a.override(!1,"zip"),a.override(!1,"city"))})},a.execute_trigger=function(b,e){a.trigger(b,e);"zip"===b&&(a.override(!1,"zip"),a.zip&&(a.selected_zip_value=a.zip.val()),a.zipcity&&(a.selected_zipcity_value=a.zipcity.val()));"city"===b&&(a.override(!1,"city"),a.city&&(a.selected_city_value=a.city.val()),a.zipcity&&(a.selected_zipcity_value=a.zipcity.val()));"street"===b&&(a.override(!1,"street"),a.selected_street_value=a.street.val())},a.override=function(b,e){return!0!==b&&!1!==b||(e&&"zip"!==e||(a.zip_override=b),e&&"city"!==e||(a.city_override=b),e&&"street"!==e||(a.street_override=b),a.execute_trigger("override")),{zip:a.zip_override,city:a.city_override,street:a.street_override}},a.count=function(a){var b,d=0;for(b in a)a.hasOwnProperty(b)&&d++;return d},a.trimLeft=function(a,e){return a?void 0===e?a.replace(/^\s+/gm,""):a.replace(new RegExp("^["+e+"]+"),""):""},a.trimRight=function(a,e){return a?void 0===e?a.replace(/\s+$/gm,""):a.replace(new RegExp("["+e+"]+$"),""):""},a.trim=function(b,e){return b?void 0===e?b.replace(/^\s+|\s+$/gm,""):(b=a.trimLeft(b,e),a.trimRight(b,e)):""},a.replace=function(a,e,d){for(var b="",g=(a+="").length,c=e.length,l=a.indexOf(e);-1<l;)b+=a.substring(0,l)+d,l=(a=a.substring(l+c,g)).indexOf(e);return""!=a&&(b+=a),b},Array.prototype.indexOf||(Array.prototype.indexOf=function(a,e){if(null==this)throw new TypeError('"this" vaut null ou n est pas défini');var b=Object(this),f=b.length>>>0;if(0==f)return-1;e=+e||0;if(f<=(e=Math.abs(e)===1/0?0:e))return-1;for(e=Math.max(0<=e?e:f-Math.abs(e),0);e<f;){if(e in b&&b[e]===a)return e;e++}return-1}),a.filter_cities=function(b){for(var e,d,f,g=1,c=[],l=a.count(b),h=a.selected_country();b[g];){if(!(f=b[g].IDLocalite)&&1===l)return[];var t,m,p=a.trim(b[g].Localite),u=a.trim(b[g].LieuDit);(m=a.trim(b[g].Province))!==p&&a.trim(m,"*-")||(m="");"FRA"===h||!m||-1<(t=m.indexOf("-"))&&(m=m.substr(0,t),-1<(t=f.indexOf("-"))&&(f=f.substr(0,t)));(e=a.trim(b[g].CodePostal))&&p&&(d=e.length-p.length-1,e.substr(d)===" "+p&&(e=e.substr(0,d)));q=b[g].Entreprise?a.trim(b[g].Entreprise):"";t=m?p+", "+m:u?p+", "+u:p;d={city_id:f,city:p};(f=b[g].Voie||"").indexOf("_BP_");for(var k=f?f.split(","):[],v=0;v<k.length;v++)k[v]=a.trim(k[v]);q&&(d.company=q);var q=[];a.zip_pattern.hasOwnProperty(a.selected_country())||a.zip.val()==e||q.push(e);3==k.length?(k[0]&&k[1]?(d.company=k[0]+", "+k[1],q.push(d.company)):(k[0]&&(d.company=k[0],q.push(k[0])),k[1]&&(d.compl=k[1],q.push(k[1]))),k[2]&&(d.street=k[2],q.push(k[2]))):(d.company&&q.push(d.company),f&&(d.street=a.trim(f),d.number=a.trim(b[g].Numero),d.street_id=a.trim(b[g].IDVoie),q.push(d.street)));0<q.length&&(t+=" ("+q.join(", ")+")");d.label=a.no_bp(t);e&&(d.zip=e);u&&(d.local=u);m&&(d.prov=m);b[g].ListeNumero&&(d.numbers=b[g].ListeNumero.split(";"));d.zipcity=-1===p.indexOf("(")?e+" "+p:p;c.push(d);g++}return c},a.filter_adr=function(b){for(var e,d,f,g,c=1,l=[],h="",k=a.num_is_after();b[c];){f=b[c];e=a.trim(f.Voie);d=a.trim(f.Numero);g="";f.ListeNumero&&-1===f.ListeNumero.split(";").indexOf(d)&&(d="");var m,p=a.trim(f.CodePostal),u=a.trim(f.Localite),n=a.trim(f.IDVoie),v=a.trim(f.IDLocalite),q=f.LieuDit?a.trim(b[c].LieuDit):"";-1<e.indexOf(",")&&3===(m=e.split(",")).length&&(h=a.trim(m[0]),g=a.trim(m[1]),e=a.trim(m[2]));f=k?a.trim(e+" "+d):a.trim(d+" "+e);m=(h?", "+h:"")+
(g?", "+g:"")+(q?", "+q:"");q={id:n,label:p?f+" ("+p+m+")":f+m,simple_label:f,street:e,number:d,zip:p,city:u,city_id:v,local:q};g&&(q.prov=g);h&&(q.company=h);l.push(q);c++}return l},a.filter_num=function(a){a=a&&a[1]&&a[1].ListeNumero?a[1].ListeNumero.split(";"):[];for(var b=[],d=a.length,f=0;f<d;f++)b.push({value:a[f],label:a[f]});return b},a.filter_single=function(b){if(!b||"{}"===b)return[];for(var e,d,f,g,c,l,h=[],k=1,m=a.num_is_after();b[k]&&!(5<k);)(l=b[k]).Numero=a.trim(l.Numero),-1<l.Voie.indexOf(",")?(c=(g=l.Voie.split(",")).length,l.Voie=a.trim(g[c-1])):l.Voie=a.trim(l.Voie),e=l.label||(e=a.recombine_street(l.Numero,l.TypeVoie,l.Voie,m),e+=" "+a.trim(l.CodePostal+" "+l.Localite),l.Entreprise?e+=" ("+l.Entreprise+")":l.LieuDit&&(e+=" ("+l.LieuDit+")"),a.trim(e)),d={street:l.Voie,num:l.Numero,numonly:l.NumSeul,type:l.TypeVoie,id:l.IDVoie,zip:l.CodePostal,city:l.Localite,label:e,value:e,city_id:l.IDLocalite},l.complement&&(d.numcompl=l.complement),l.Entreprise&&(d.company=l.Entreprise),l.LieuDit&&(d.local=l.LieuDit),l.Complement&&(d.compl=l.Complement),l.Province&&"*"!==l.Province&&(d.prov=l.Province),l.SousLocalite&&(d.subcity=l.SousLocalite),l.ListeNumero?(f=l.ListeNumero.split(";"),g=!l.Numero,c=-1===f.indexOf(l.Numero),g&&(d.missing_number=1),c&&(d.wrong_number=1),(g||c)&&(d.nums=f)):l.Numero&&(d.unexpected_number=1),l.Latitude&&(d.latitude=l.Latitude),l.Longitude&&(d.longitude=l.Longitude),h.push(d),k++;return h},a.house_typo=function(a,e){var b,f,g="";for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],"TYPO_"===f.substr(0,5)&&1==parseInt(b,10))){g=f.substr(5);break}if(!g)return"";if(e)return g;e={A1:["Grandes maisons récentes","Familles matures avec adolescents","CSP et niveau d'études supérieures","Propriétaires et au moins 2 voitures"],A2:["Propriétaires de grandes maisons en ville","Couples 40 ans et plus avec adolescents","Cadres, prof. interm. ou retraités","Niveau d'études supérieures"],A3:["Couples matures sans enfant ou retraités","Maisons en périphérie des villes","Bons revenus","Grands utilisateurs de la voiture"],A4:["Ouvriers qualifiés ou prof. interm.","Couples 40-54 ans avec enfants","Grandes maisons avec garage","Installés depuis plus de 10 ans"],B1:["Jeunes actifs ou retraités en ville","Personnes seules 18-39 ans ou 65+","CSP et niveau d'études moyen","Installés depuis moins de 5 ans"],B2:["Jeunes célibataires en centre-ville","Petits appartements très anciens","Commerces et équipements importants","Récemment installés"],B3:["Retraités ou employés","Appartements anciens de taille moyenne","Faible niveau d'études, revenus moyens","Ménages installés depuis plus de 10 ans"],B4:["Ouvriers peu qualifiés ou prof. interm.","Familles monoparentales","Locataires d'appartements HLM","Pop étrangère aux revenus modestes"],C1:["Population entre 18 et 39 ans","Très petits appartements dans Paris","Cadres ou étudiants en hautes études","Gros utilisateurs des transports en commun"],C2:["Jeunes cadres, prof. interm. ou employés","Anciens appartements de taille moyenne","Gde couronne parisienne ou gdes agglos"],D1:["Jeunes ménages cultivés, bonne situation","Log. récents en périphérie des villes","Professions interm., cadres et employés","Familles avec enfants"],D2:["Ménages avec enfants (\x26lt; 10 ans)","Log. individuels nouvellement construits","Niveau d'études et revenus moyens","Installation récente"],D3:["Familles ouvrières avec enfants","Métiers techniques","Grandes maisons très anciennes","Revenus modestes"],E1:["Etudiants 18-24 ans, célibataire","Locataires de petits appartements","Adeptes de transports en commun"],F1:["Familles avec enfants ou adolescents","Actifs avec revenus dans la moyenne","Grande couronne parisienne","Habitat collectif type HLM"],F2:["Ménages sans famille ou monoparentaux","Employés et ouvriers","Population étrangère et immigrés","Habitat collectif HLM de petite taille"],F3:["Familles nombreuses, 25-39 ans","HLM en gde agglomération","Grande proportion d'immigrés","Revenus très faibles"],G1:["Couples sans enfant","Ménages ouvriers en zone isolée","Faibles revenus","Log. individuels de superficie moyenne"],G2:["Retraités de plus de 65 ans","Habitat hétérogène de taille moyenne","Faibles revenus","Nbr. infrastructures, notamment"],H1:["Retraités au soleil et vacanciers","Activité touristique importante","Habitat hétérogène, princ. rés. secondaire","Population âgée sans enfant à charge"],H2:["Ouvriers / retraités aux revenus modestes","Logements individuels, d'avant 1949","Zone rurale","Nbr. équipements : alim; santé, enseign."],H3:["Ouvriers, agriculteurs ou retraités","Propriétaires de grandes maisons anciennes","Revenus modestes","Au moins 2 voitures"],H4:["Ouvriers de plus de 40 ans ou retraités","Propriétaires de maisons individuelles anciennes","Faible niveau d'études"],H5:["Familles d'artisans ou commerçants","Ménages de 40-54 ans avec adolescents","Maisons, parfois en rés. secondaires","Installés depuis plus de 10 ans"],H6:["Forte part d'agriculteurs et de retraités","Revenus dans la moyenne","Propriétaire de maison à la campagne"]};return e[g]||""},a.fill_zip=function(b){"PRT"==a.selected_country()&&b.match(/^\d{7}$/)&&(b=b.substr(0,4)+"-"+b.substr(4));a.zip&&a.zip.val(b);a.execute_trigger("zip",[b])},a.convert_iso2=function(a){return{AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",VG:"VGB",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",HK:"HKG",MO:"MAC",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"}[a]||"FRA"},a.selected_country=function(){var b=a.countryField?a.countryField.val():a.country;return b&&2==b.length?a.convert_iso2(b.toUpperCase()):b},a.clear=function(){a.clearSection("zip");a.zip&&a.zip.off("input.dqeEvent change.dqeEvent");a.countryField.length&&a.countryField.off("change.dqeEvent");a.zipcity&&a.removeAutocomplete(a.zipcity);a.single&&a.removeAutocomplete(a.single)},a.idcheck=function(b,e,d,f,g,c){g={fn:"SEARCH",Address:a.remove_accents(b),PostalCode:e,City:a.remove_accents(d),LastName:a.remove_accents(f),FirstName:a.remove_accents(g),Version:2};g=a.url(g);a.ajax(g,function(a){window[c](a)})},a.lifestyle=function(b,e,d,f){var g={status:0};e=a.url({server:"es",fn:"GETINFOLIFESTYLE",Address:b,PostalCode:e});a.ajax(e,function(b){var d={status:1};if(b&&b.DATA1){for(var e in b=b.DATA1,d.code=a.house_typo(b,1),d.typo=a.house_typo(b),b)b.hasOwnProperty(e)&&"TYPO_"!=e.substr(0,5)&&(d[e.toLowerCase()]=b[e]);window[f](d)}else window[f](g)})},a.latlng=function(b){var e=a.current_number||"",d=a.current_street_id,f={status:0,msg:"Coordonnées non trouvées"};d?(e=a.url({fn:"LATLG",IDVoie:d,Num:e,Pays:a.selected_country()}),a.ajax(e,function(a){!a||!a[1]||0==(a=a[1]).Latitude&&0==a.Longitude?window[b](f):(a.status=1,window[b](a))})):window[b](f)},a.valid_zip=function(b){var e=a.selected_country();return!a.zip_pattern[e]||b.match(a.zip_pattern[e])},a.num_is_after=function(){var b=a.selected_country();return!!a.reversed_countries[b]},a.recombine_street=function(b,e,d,f){var g=[];return f||a.num_is_after()?(e&&g.push(e),d&&g.push(d),b&&g.push(b)):(b&&g.push(b),e&&g.push(e),d&&g.push(d)),g.join(" ")},a.num_final_check=function(){var b=a.selected_country();("BEL"===b||"PRT"===b)&&a.current_street_id&&a.current_city_id&&a.current_zip&&(b=a.url({fn:"NUM",Numero:a.current_number,IDVoie:a.current_street_id,IDLocalite:a.current_city_id,CodePostal:a.current_zip,Pays:b}),a.ajax(b,function(b){var d,f;b&&b[1]&&b[1].IDLocalite&&(d=b[1].CodePostal,f=b[1].IDLocalite,b=b[1].Localite,a.zip&&a.current_zip!==d&&a.fill_zip(d),a.current_city_id!==f&&(a.current_city_id=f,a.city&&a.city.val(b)),!a.zipcity||a.current_zip===d&&a.current_city_id===f||(a.zipcity.val(d+" "+
b),a.selected_zipcity_value=a.zipcity.val()))}))},a.show_numbers=function(){a.force_num_in_street=!1;var b,e=a.current_street_id,d=a.current_city_id,f=a.current_zip;a.number&&(a.number.focus(),b=a.fast_country(),a.removeAutocomplete(a.number),a.number.autocomplete({delay:b?0:300,source:function(b,c){var g;a.single&&a.current_numbers_source?c(a.current_numbers_source):(g=a.url({fn:"NUM",IDVoie:e,IDLocalite:d,CodePostal:f,Pays:a.selected_country()}),a.ajax(g,function(b){c(a.filter_num(b))}))},minLength:0,select:function(b,d){return a.clearSection("compl"),a.current_number=d.item.value,a.number.val(d.item.value),a.show_complements(),a.execute_trigger("number",[d.item.value]),a.num_final_check(),!1},response:function(a,b){b.content.length}}).focus(function(){h(this).data("ui-autocomplete")&&h(this).autocomplete("search",h(this).val())}),a.number.focus())},a.load_addresses_with_numbers=function(){a.force_num_in_street=!1;var b=a.current_city_id,e=a.current_zip,d=a.current_street_id,f=a.street.val(),c=a.num_is_after(),h=-1<f.indexOf("%d");a.num_search=!0;e=a.url({fn:"NUM",IDVoie:d,IDLocalite:b,CodePostal:e,Pays:a.selected_country()});a.ajax(e,function(b){for(var e,g,l=(b=a.filter_num(b)).length,w=[],k=0;k<l;k++)e=b[k].value,g=h?a.string_replace(f,"%d",e):c?f+" "+e:e+" "+f,g={id:d,number:e,label:g,simple_label:g},b[k].street_id&&(g.street_id=b[k].street_id),b[k].street&&(g.street=b[k].street),w.push(g);a.street.data("ui-autocomplete")&&0<w.length&&(a.street.autocomplete("option","source",w),a.street.autocomplete("option","minLength",0),a.street.autocomplete("search",a.street.val()))})},a.load_addresses_with_bp=function(b,e){a.force_num_in_street=!0;var d=a.current_street_id;b=(b=b.replace("_BP_:","")).replace("_BP_","");for(var f,g,c=e.length,l=[],h=0;h<c;h++)f=e[h],g=b.replace("BP_",f),l.push({value:d,number:f,label:g,simple_label:g});a.street.data("ui-autocomplete")||a.show_streets();a.street.autocomplete("option","source",l);a.street.autocomplete("option","minLength",0);a.street.autocomplete("search",a.street.val())},a.set_number=function(b){a.execute_trigger("number",[b.number]);a.current_number=b.number;a.num_final_check();a.number&&a.number.val(b.number);a.show_complements()},a.show_streets=function(b){a.clearSection("number");var e=a.direct_numbers||a.single,d=a.fast_country();a.street&&(e||(a.current_street_id=""),b||e||a.street.val(""),a.street.focus(),a.removeAutocomplete(a.street),a.street.autocomplete({delay:d?0:300,source:function(b,d){var f;e?d(a.current_numbers_source):(f=a.selected_country(),a.num_search=!1,b={fn:"ADR",IDLocalite:a.current_city_id,Adresse:b.term,Instance:0,Pays:f},"FRA"===f&&(b.Etendue="O"),b=a.url(b),a.ajax(b,function(b){d(a.filter_adr(b))}))},minLength:2,select:function(b,d){var f;if(a.adr_autocomplete_used=!0,a.clearSection("number"),a.num_search||(a.current_street_id=d.item.id),a.street.autocomplete("option","minLength",2),d.item.zip&&d.item.city&&(a.zipcity&&(f=d.item.zip+" "+d.item.city,!a.local&&d.item.local&&(f+=", "+d.item.local),a.zipcity.val(f),a.selected_zipcity_value=a.zipcity.val()),a.zip&&(f=a.zip.val(),a.execute_trigger("zip",d.item.zip),d.item.zip&&f!=d.item.zip&&-1===a.city.val().indexOf("CEDEX")&&a.fill_zip(d.item.zip)),a.city&&d.item.city_id&&d.item.city_id!=a.current_city_id&&(a.city.val(d.item.city),a.execute_trigger("city",d.item.city)),a.current_zip=d.item.zip,a.current_city_id=d.item.city_id),d.item.company&&a.company&&(a.company.val(d.item.company),a.execute_trigger("company",[d.item.company])),a.local&&d.item.hasOwnProperty("local")&&(a.local.val(d.item.local),a.execute_trigger("local",[d.item.local])),d.item.prov&&a.prov&&(a.prov.val(d.item.prov),a.execute_trigger("prov",[d.item.prov])),d.item.street||(d.item.street=""),a.number&&!a.force_num_in_street)a.street.val(d.item.street),a.execute_trigger("street",[d.item.street]),d.item.number?a.set_number(d.item):a.show_numbers();else{if(a.street.val(d.item.simple_label),a.execute_trigger("street",[d.item.street]),!d.item.number)return a.load_addresses_with_numbers(),!1;a.set_number(d.item)}return a.num_search&&a.show_complements(),!1}}).off("focus").on("focus.dqeEvent",function(){h(this).data("ui-autocomplete")&&h(this).autocomplete("search",h(this).val())}).on("keypress.dqeEvent",function(){a.clearSection("number");"FRA"==a.selected_country()&&a.clearSection("compl");a.adr_autocomplete_used&&(a.adr_autocomplete_used=!1,a.removeAutocomplete(a.street),a.street.off("focus").off("keypress"),a.current_street_id="",a.single?(a.removeAutocomplete(a.single),a.current_numbers_source=!1,a.activate_single_autocomplete()):a.show_streets(!0))}))},a.removeAutocomplete=function(a){a.data("ui-autocomplete")&&(a.autocomplete("destroy"),a.removeData("ui-autocomplete"))},a.clearSection=function(b){"zip"==b&&a.zip&&(a.override_reset(),a.zip.val(""),a.clearSection("city"),a.current_zip="");"city"==b&&a.city&&(a.override_reset(),a.city.val(""),a.removeAutocomplete(a.city),a.clearSection("local"),a.clearSection("street"),a.clearSection("prov"),a.clearSection("compl"),a.current_city_id="");"local"==b&&a.local&&(a.local.val(""),a.removeAutocomplete(a.local),a.clearSection("street"),a.clearSection("compl"),a.current_local_id="");"street"==b&&a.street&&(a.street.val(""),a.removeAutocomplete(a.street),a.clearSection("number"),a.current_street_id="",a.execute_trigger("override"),a.direct_numbers=!1);"number"==b&&a.number&&(a.number.val(""),a.removeAutocomplete(a.number),a.current_number="",a.current_numbers_source=[]);"compl"==b&&a.compl&&(a.compl.val(""),a.removeAutocomplete(a.compl),a.current_compl="",a.current_compl_source=[]);"prov"==b&&a.prov&&(a.prov.val(""),a.current_prov="");"zipcity"==b&&a.zipcity&&(a.override_reset(),a.zipcity.val(""),a.removeAutocomplete(a.zipcity),a.clearSection("street"),a.current_zipcity="");"single"==b&&a.single&&(a.single.val(""),a.removeAutocomplete(a.single))},a.no_bp=function(b){return b=a.replace(b,"_BP_:",""),b=a.replace(b,"_BP_",""),b=a.replace(b," BP_",""),b=a.replace(b,"BP_",""),a.trim(b)},a.set_city=function(b){a.clearSection("street");a.settings.append_locality&&b.local&&(b.city+=", "+b.local);a.city&&a.city.val(b.city);a.compl&&b.compl?(a.compl.val(b.compl),a.execute_trigger("compl",[b.compl])):a.clearSection("compl");a.local&&b.local&&(a.local.val(b.local),a.execute_trigger("local",[b.local]));a.prov&&b.prov&&(a.prov.val(b.prov),a.current_prov=b.prov,a.execute_trigger("prov",[b.prov]));a.current_city_id=b.city_id;a.execute_trigger("city",[b.city_id,b.city]);a.show_streets();b.zip&&(a.zip&&a.zip.val()!==b.zip&&a.zip.val(b.zip),a.current_zip=b.zip,a.execute_trigger("zip",b.zip));b.street&&a.street&&(-1<b.street.indexOf("BP_")?b.numbers?a.load_addresses_with_bp(b.street,b.numbers):(a.street.val(a.no_bp(b.street)),a.execute_trigger("street",b.street)):(a.street.val(b.street),a.execute_trigger("street",b.street)));b.street_id&&(a.current_street_id=b.street_id,a.street.autocomplete("search",a.street.val()));b.company&&a.company&&(a.company.val(b.company),a.execute_trigger("company",[b.company]));b.street&&a.street&&b.numbers&&a.show_numbers_directly(b.numbers,b.street,"",b.street_id)},a.extract_city_name=function(b){var e=b.lastIndexOf("(");return-1===e?b:a.trim(b.substr(0,e))},a.calculate_zip=function(b,e){var d=a.url({fn:"CP",CodePostal:"",IDLocalite:b,Instance:0,Pays:a.selected_country()});a.ajax(d,function(d){for(var f=a.count(d),c=1;d[c];){if(1===f||d[c].Localite===e){a.fill_zip(d[c].CodePostal);a.set_city({city:d[c].Localite,value:b,zip:d[c].CodePostal});break}c++}})},a.search_cities=function(){var b=a.fast_country();a.city_search_enabled=1;a.removeAutocomplete(a.city);a.city.autocomplete({delay:b?0:300,source:function(b,d){b=a.url({fn:"CP",CodePostal:b.term,Alpha:"false",Instance:0,Pays:a.selected_country()});a.ajax(b,function(b){b=a.filter_cities(b,!0);for(var c=[],f=0;f<b.length;f++)-1===b[f].city.indexOf(" CEDEX")&&c.push(b[f]);d(c)})},minLength:3,select:function(b,d){b=a.extract_city_name(d.item.city);return a.calculate_zip(d.item.city_id,b),!1},focus:function(a,b){a.preventDefault()}})},a.show_cities=function(b){a.clearSection("city");a.override(!0,"zip");var c,d=a.zip.val();a.valid_zip(d)&&(a.local&&a.local.val(""),c=a.url({fn:"CP",CodePostal:d,Alpha:"false",Instance:0,Pays:a.selected_country()}),a.ajax(c,function(b){var c=1==(b=a.filter_cities(b)).length&&!a.city.val();b&&0<b.length&&(a.zip.val(d),a.execute_trigger("zip",[d]),a.city.autocomplete({source:b,minLength:0,appendTo:h(a.city).parent(),select:function(b,d){return a.set_city(d.item),!1}}).off("focus.dqeEvent").on("focus.dqeEvent",function(){!c&&h(this).data("ui-autocomplete")&&h(this).autocomplete("search",h(this).val())}),c&&a.set_city(b[0]))}))},a.activate_zipcity_autocomplete=function(){var b=a.selected_country(),c=a.fast_country();a.zipcity&&!a.single&&(a.removeAutocomplete(a.zipcity),a.zipcity.autocomplete({delay:c?0:300,source:function(d,c){d=a.url({fn:"CP",CodePostal:d.term,Alpha:"false",Instance:0,Pays:b});a.ajax(d,function(b){b=a.filter_cities(b);c(b)})},minLength:3,select:function(b,c){return a.zipcity.val(c.item.zipcity),a.selected_zipcity_value=a.zipcity.val(),a.local&&c.item.local&&(a.local.val(c.item.local),a.execute_trigger("local",[c.item.local])),a.prov&&c.item.prov&&(a.prov.val(c.item.prov),a.execute_trigger("prov",[c.item.prov])),a.current_city_id=c.item.city_id,a.current_zip=c.item.zip,a.current_city=c.item.city,a.show_streets(),a.execute_trigger("zip",[c.item.value,c.item.zip]),a.execute_trigger("city",[c.item.value,c.item.city]),c.item.company&&a.company&&(a.company.val(c.item.company),a.execute_trigger("company",[c.item.company])),c.item.street&&a.street&&(-1<c.item.street.indexOf("BP_")?a.load_addresses_with_bp(c.item.street,c.item.numbers):(a.street.val(c.item.street),a.execute_trigger("street",city.street))),c.item.street_id&&(a.current_street_id=c.item.street_id,a.street.autocomplete("search",a.street.val())),!1},focus:function(a,b){a.preventDefault()}}).on("focusin.dqe",function(){var b=a.zipcity.val();h(this).data("ui-autocomplete")&&2<b.length&&h(this).autocomplete("search",b)}),a.zipcity.click())},a.reset_single_autocomplete=function(){a.zip&&a.zip.val("");a.city&&a.city.val("");a.compl&&a.compl.val("");a.prov&&a.prov.val("");a.local&&a.local.val("");a.company&&a.company.val("");a.street.off("input",a.reset_single_autocomplete);a.single.off("click",a.reset_single_autocomplete);a.removeAutocomplete(a.single);a.activate_single_autocomplete()},a.geolocErrorCallback=function(a){switch(a.code){case 1:0;break;case 2:0;break;case 3:0}},a.setGeolocCity=function(b){a.lat=b.coords.latitude;a.lon=b.coords.longitude;b={fn:"SINGLE",Adresse:"",Pays:a.selected_country(),Lon:a.lon,Lat:a.lat};b=a.url(b);a.ajax(b,function(b){var d;b[1]&&(b=b[1],a.zipcity&&(a.selected_zipcity_value=b.CodePostal+" "+b.Localite,a.zipcity.val(b.CodePostal+" "+b.Localite).trigger("input")),d=a.num_is_after(),d=a.recombine_street(b.Numero,"",b.Voie,d),a.zip&&a.zip.val(b.CodePostal),a.city&&a.city.val(b.Localite),a.street&&d&&a.street.val(d),a.current_city_id=b.IDLocalite,a.current_street_id=b.IDVoie,a.current_zip=b.CodePostal)})},a.getGeolocCity=function(){0<a.lat||0<a.lon?a.setGeolocCity({coords:{latitude:a.lat,longitude:a.lon}}):navigator.geolocation&&navigator.geolocation.getCurrentPosition(a.setGeolocCity,a.geolocErrorCallback,{enableHighAccuracy:!0,timeout:1E4,maximumAge:0})},a.show_numbers_directly=function(b,c,d,f){a.direct_numbers=!0;var e=-1<c.indexOf("%d");if(a.number)a.current_numbers_source=b,a.show_numbers();else{for(var h,l=a.num_is_after(),k=[],t=b.length,m=0;m<t;m++)h=e?c.replace("%d",b[m]):a.recombine_street(b[m],d,c,l),k.push({id:f,label:h,simple_label:h,street:c,number:b[m]});a.current_numbers_source=k;a.show_streets();a.street&&(a.street.autocomplete("option","minLength",0),a.street.autocomplete("search",a.street.val()))}},a.fill_nums=function(a,c){a=[];for(var b=1;b<=c;b++)a.push(b);return a},a.activate_single_autocomplete=function(){var b=a.fast_country();a.single&&(a.removeAutocomplete(a.single),a.single.autocomplete({height:150,delay:b?0:300,create:function(){h(this).data("ui-autocomplete")._renderItem=a.render_item;h(h(this).data("ui-autocomplete").menu.activeMenu).addClass(h(this).attr("id")+"-autocomplete")},source:function(b,d){var c=a.selected_country();b=window.SitePreferences.DqeAddressServer+"SINGLEV2/?Pays\x3d"+c+"\x26Adresse\x3d"+encodeURIComponent(b.term)+"\x26Licence\x3d"+a.license;(a.lat||a.lon)&&(b+="\x26lat\x3d"+a.lat+"\x26lon\x3d"+a.lon);a.ajax(b,function(b){d(a.filter_single(b))})},minLength:b?1:2,select:function(b,d){var c;a.prov&&d.item.prov&&(a.prov.val(d.item.prov),a.execute_trigger("prov",[d.item.prov]));a.company&&(e=d.item.company||"",a.company.val(e),a.execute_trigger("company",[e]));a.compl&&a.compl.val(d.item.compl);a.zip&&a.fill_zip(d.item.zip);a.city&&a.city.val(d.item.city);a.zipcity&&(a.zipcity.val(d.item.zip+" "+d.item.city),a.selected_zipcity_value=a.zipcity.val());a.local&&d.item.local&&(a.local.val(d.item.local),a.current_local=d.item.local,a.execute_trigger("local",[d.item.local]));a.current_city_id=d.item.city_id;a.current_zip=d.item.zip;a.current_street_id=d.item.id;d.item.num&&(a.current_number=d.item.num);a.number?(a.number.val(d.item.num),c=a.recombine_street("",d.item.type,d.item.street),a.execute_trigger("number",[d.item.num])):c=a.recombine_street(d.item.num,d.item.type,d.item.street);a.street&&a.street.val(c);var e=a.selected_country();return!d.item.nums&&a.force_nums&&a.force_nums[e]&&a.min_bound&&a.max_bound&&!a.has_number(c)&&(d.item.nums=a.fill_nums(a.min_bound,a.max_bound)),d.item.nums?(a.number||a.settings.single!==a.settings.street||a.removeAutocomplete(a.single),a.show_numbers_directly(d.item.nums,d.item.street,d.item.type,d.item.id)):a.show_complements(),a.settings.single===a.settings.street&&a.street.on("input.dqeEvent",a.reset_single_autocomplete),a.execute_trigger("single",d.item),!1},focus:function(a,b){a.preventDefault()}}).off("click").on("click.dqeEvent",function(){var b=a.single.val();h(this).data("ui-autocomplete")&&2<b.length&&h(this).autocomplete("search",b)}))},a.activate_zipcity_autocomplete(),a.activate_single_autocomplete(),a.show_complements=function(){var b,c;a.compl&&(b=a.current_street_id,c=a.current_number,a.removeAutocomplete(a.compl),a.compl.off("focus"),a.compl.autocomplete({delay:150,source:function(d,f){var e;a.single&&a.current_compl_source&&a.current_compl_source.length?f(a.current_compl_source):(e=a.url({fn:a.single?"COMPLV2":"COMPL",IDVoie:b,IDNum:c,Taille:38,Pays:a.selected_country()}),a.ajax(e,function(b){if(!a.single&&a.geoloc&&a.latlng(a.geoloc),!b)return[];var d;a.geoloc&&b.Latitude&&b.Longitude&&(d={status:1,Latitude:b.Latitude,Longitude:b.Longitude},window[a.geoloc](d));d=1;for(var c=[];b[d];)c.push(b[d].Batiment),d++;f(c)}))},minLength:0,select:function(b,c){a.compl.val(c.item.value);a.execute_trigger("compl",[c.item.value])}}).focus(function(){h(this).data("ui-autocomplete")&&h(this).autocomplete("search",h(this).val())}),a.compl.focus())},a.parse=function(b,c){c?(c=a.url({fn:"RNVP",Adresse:c,Instance:0,Taille:38,Pays:"FRA"}),a.ajax(c,function(a){var d,c={};for(d in a=a[1])a.hasOwnProperty(d)&&"DQE"!==d.substr(0,3)&&"Instance"!==d&&(c[d]=a[d]);window[b](c)})):window[b]({})},a.check=function(b,c){var d,f,e,h,l,k,t,m,p=c?(l=c.compl||"",k=c.street||"",t=c.local||"",m=c.prov||"",e=c.zip||"",h=c.city||"",c.country||a.selected_country()):(l=a.compl?a.compl.val():"",k=a.street?a.street.val():"",t=a.local?a.local.val():"",m=a.prov?a.prov.val():t,!a.number||(f=a.number.val())&&(k=a.num_is_after()?k+" "+f:f+" "+k),h=e="",a.zipcity?(d=a.zipcity.val(),a.current_zip&&0===d.indexOf(a.current_zip)?(f=a.current_zip.length,e=a.current_zip,h=d.substr(f+1)):-1<(p=d.indexOf(" "))&&(e=d.substr(0,p),h=d.substr(p+1))):(e=a.zip.val(),h=a.city.val()),a.selected_country()),p=a.url({fn:"RNVP",Adresse:l+"|"+k+"|"+m+"|"+e+"|"+h,Instance:0,Taille:38,Pays:p});a.ajax(p,function(d){d=d[1];var c=parseInt(d.DQECodeDetail,10);isNaN(c)&&(c=0);var f=parseInt(d.DQECodeErreur,10);isNaN(f)&&(f=0);var g=0===c?d.DQELibErreur:{10:"Adresse correcte",20:"Adresse correcte (voie non reconnue, mais il s'agit d'un cedex ou d'une BP)",21:"Petite ville, numéro de facade hors bornes",22:"Petite ville, numéro de facade absent (le reste de l'adresse est correcte)",23:"Grande ville, numéro de facade hors bornes",24:"Grande ville, numéro de facade absent (le reste de l'adresse est correcte)",25:"Si CEDEXA activé, adresse CEDEX inconnue de CEDEXA",30:"Petite ville, voie non reconnue",31:"Petite ville, voie non reconnue (quartier reconnu ne permettant pas de déduire la voie)",40:"Petite ville, voie absente (quartier reconnu ne permettant pas de déduire la voie)",41:"Petite ville, voie absente",50:"Grande ville, voie non reconnue",51:"Grande ville, voie non reconnue (quartier reconnu ne permettant pas de déduire la voie)",60:"Grande ville, voie absente (quartier reconnu ne permettant pas de déduire la voie)",61:"Grande ville, voie absente",70:"CP/Ville non corrigeable (voie présente)",80:"CP/Ville non corrigeable (voie absente)",90:"Adresse internationale détectée"}[c];c||f||"KO"!==d.DQECodeErreur||(c=90,f=1);c={data:c,error:f,label:g,status_iris_ilot:d.Status_IrisIlot,iris:d.iris,ilot:d.ilot};d.ListeNumero&&(c.known_numbers=d.ListeNumero);g={};g.compl=d.Complement||"";g.street=d.Adresse||"";g.street_name=d.Voie||"";g.street_type=d.TypeVoie||"";g.number=d.Numero||"";g.num_short=d.NumSeul||"";g.local=d.LieuDit||"";g.zip=d.CodePostal||"";g.city=d.Localite||"";c.normalized=g;f||(f={},l!==d.Complement&&(f.compl=d.Complement),k!==d.Adresse&&(f.street=d.Adresse,f.street_name=d.Voie,f.street_type=d.TypeVoie,f.number=d.NumSeul),t!==d.LieuDit&&(f.local=d.LieuDit),e!==d.CodePostal&&(f.zip=d.CodePostal),h!==d.Localite&&(f.city=d.Localite),0<a.count(f)&&(c.corrections=f));window[b](c)})},a.iptracker=function(b,c){var d={status:0,msg:"Adresse IP non identifiée"};b?(b=a.url({fn:"CP",CodePostal:b,Pays:"FRA"}),a.ajax(b,function(a){a&&a[1]||window[c](d);0===(a=a[1]).Latitude&&0===a.Longitude&&window[c](d);a.status=1;window[c](a)})):window[c](data)},a.url=function(b){var c,d=[];for(c in b)b.hasOwnProperty(c)&&"fn"!==c&&"server"!==c&&d.push(c+"\x3d"+encodeURIComponent(b[c]));return"https://prod2.dqe-software.com/"+b.fn+"/?"+d.join("\x26")+"\x26Licence\x3d"+a.license},a.zip&&!a.single&&a.zip.on("input.dqeEvent",function(){a.zip.is(":visible")&&a.zip_pattern.hasOwnProperty(a.selected_country())&&a.show_cities()}),a.city&&a.city_search&&!a.single&&a.city.on("input.dqeEvent",function(){a.city_search_enabled||a.search_cities()}).on("blur.dqeEvent",function(){a.city_search_enabled&&(a.city_search_enabled=0,a.removeAutocomplete(a.city))}),a.override_events(),a}}(jQuery);(function(h){h.fn.dqemail=function(k){var c=this,r=c.closest("div"),n=!1,a=!1,b=SitePreferences.DQETimeoutMobile||2E3,e=SitePreferences.DQETimeoutDesktop||500;0!==k.bootstrap&&r.length?(n=r.find("span.glyphicon"),n.length?a="glyphicon":n=r.find("i.fa"),n.length?a="fa":n=!1):r=!1;k=h.extend({country:"FRA",suggest:!1,autocheck:!0,license:"",extendedsyntax:"n",checkuser:"y",rectify:0,bootstrap:1},k);return c.settings=k,c.server=k.server,c.license=k.license,c.suggest=k.suggest,c.last_name=!!k.last_name&&h(k.last_name),c.first_name=!!k.first_name&&h(k.first_name),c.autocheck=k.autocheck||!1,c.rectify=!!k.rectify,c.extended="y"===k.extendedsyntax?"y":"n",c.checkuser=k.checkuser&&"y"!==k.checkuser?"n":"y",c.timeout=[],c.countryField=3!==k.country.length&&h(k.country),c.country=k.country,c.asmx=-1<c.server.toLowerCase().indexOf(".asmx"),c.asmx&&(h.ajaxSetup({type:"POST",contentType:"application/json; charset\x3dutf-8",data:"{}",processData:!1,dataFilter:function(a){return a="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse(a):eval("("+a+")"),a.hasOwnProperty("d")?a.d:a}}),h.ajaxPrefilter(function(a,b,c){a.data=JSON.stringify(b.data)})),"jsonp"===c.server?c.ajax=function(a,b){h.ajax({url:a,dataType:"jsonp",jsonp:"callback",success:function(a){b(JSON.parse(a))},error:function(a,d,f){a={code:99,msg:"Service non disponible",state:"error"};b(a);c.trigger("checked",[a]);c.bootstrapState(a.state)}})}:"cors"===c.server?c.ajax=function(a,b){h.ajax({url:a,method:"GET",dataType:"text",crossdomain:!0,success:function(a){a=a?JSON.parse(a):{};c.trigger("checked",[a]);b(a)}})}:c.ajax=function(a,f){h.ajax({url:c.server,data:{url:a},method:"POST",dataType:"json",beforeSend:function(a){var d;d=Util&&Util.isMobile()?b:e;a.requestCode=c.setUniqueID();c.timeout[a.requestCode]=setTimeout(function(){return f("timeout")},d)},success:function(a,b,d){f(a,d)},error:function(a,b,d){a={code:99,msg:"Service non disponible",state:"error"};f(a);c.trigger("checked",[a]);c.bootstrapState(a.state)}})},c.render_item=function(a,b){var d,c=b.label,f=c.indexOf("@");return c=-1<f?'\x3cspan class\x3d"highlighted"\x3e'+c.substr(0,f)+"@\x3c/span\x3e"+(-1<(f=(d=c.substr(f+1)).lastIndexOf("."))?"\x3cspan\x3e"+d.substr(0,f)+"\x3c/span\x3e\x3cspan\x3e"+d.substr(f)+"\x3c/span\x3e":"\x3cspan\x3e"+d+"\x3c/span\x3e"):"\x3cspan\x3e"+c+"\x3c/span\x3e",h("\x3cli\x3e\x3c/li\x3e").data("item.autocomplete",b).append("\x3cdiv\x3e"+c+"\x3c/div\x3e").appendTo(a)},c.remove_accents=function(a){for(var b,d,c=a.length,e="",h=0;h<c;h++)d=a.charAt(h),e+=-1===(b="ÀÁÂÃÄÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÇçàáâãèéêëîïòôõöùúûüñ".indexOf(d))?d:"AAAAAEEEEIIIIOOOOOUUUUCcaaaaeeeeiioooouuuun".charAt(b);return e},c.check=function(a){var b,d,e,h=c.val();h&&(c.trigger("checking"),c.bootstrapState("loading"),d=c.remove_accents(h),b=!1,d!==h&&(c.val(d),b=!0),d={fn:"DQEEMAILLOOKUP",Email:encodeURIComponent(d),extendedsyntax:c.extended,checkuser:c.checkuser},c.rectify&&(d.Rectify=1),d=c.url(d),void 0!==e&&e.abort(),e=c.ajax(d,function(d,f){f&&clearTimeout(c.timeout[f.requestCode]);if("timeout"!=d){if(!d||!d[1])return{code:99,msg:"Le domaine ne répond pas",state:"error"};var e=d[1].IdError,g=h.split("@");f={91:"Erreur de syntaxe",92:"Domaine "+g[1]+" inconnu",93:"Domaine "+g[1]+" en blacklist",94:"Nom d'utilisateur non autorisé (nom réservé ou interdit)",95:"Adresse e-mail temporaire jetable",99:"Le domaine ne répond pas","04":"E-mail non fourni","03":"Boîte de réception pleine","02":"Adresse e-mail non trouvée sur le domaine "+g[1],"01":"E-mail correct mais le nom "+g[0]+" n'a pas pu être contrôlé","00":"E-mail valide"};g={91:"error",92:"optional",93:"error",94:"error",99:"error","04":"error","03":"error","02":"error","01":"warning","00":"success",95:"error"};g={code:e=g[e]?e:"01",msg:f[e],state:g[e]};"00"!==e&&"01"!==e||!b||(g.autocorrect=1,g.input=h);(d=d[1]).Redressement&&d.eMail!==d.eMailOrigine&&(g.suggestion=d.eMail,!c.rectify||"01"!==e&&"02"!==e&&"91"!==e&&"92"!==e||(g.rectified=!0));c.trigger(a||"checked",[g]);c.bootstrapState(g.state)}else g={code:"01",msg:"Request exceeded time limit",state:"timeout"},c.trigger(a||"checked",[g])}))},c.isIE=function(){var a=navigator.userAgent;return-1<a.indexOf("MSIE ")||-1<a.indexOf("Trident/")||-1<a.indexOf("Edge/")},c.clearBootstrapState=function(){r&&r.removeClass("has-success").removeClass("has-warning").removeClass("has-error");n&&("glyphicon"==a?n.removeClass("glyphicon-ok").removeClass("glyphicon-warning-sign").removeClass("glyphicon-remove"):n.removeClass("fa-check").removeClass("fa-warning").removeClass("fa-remove").removeClass("fa-spin").removeClass("fa-cog"))},c.bootstrapState=function(b){var d;c.clearBootstrapState();r&&b&&r.addClass("has-"+b);n&&("glyphicon"===a?(d={success:"ok",warning:"warning-sign",error:"remove"}[b],b&&n.addClass("glyphicon-"+d)):(d={success:"check",warning:"warning",error:"remove",loading:"cog"}[b],b&&n.addClass("fa-"+d),"loading"!=b||c.isIE()||n.addClass("fa-spin")))},c.setUniqueID=function(){return Math.random().toString(36).substr(2,5)},c.selected_country=function(){return c.countryField?c.countryField.val():c.country},c.removeAutocomplete=function(a){a.data("ui-autocomplete")&&(a.autocomplete("destroy"),a.removeData("ui-autocomplete"))},c.suggest&&(c.removeAutocomplete(c),c.autocomplete({source:function(a,b){var d=c.last_name?c.remove_accents(c.last_name.val().toLowerCase()):"",e=c.first_name?c.remove_accents(c.first_name.val().toLowerCase()):"";a=c.remove_accents(a.term.toLowerCase());null!=a&&0<a.indexOf("@")&&(a=c.url({fn:"MAILSUGGEST",Nom:d,Prenom:e,Email:a,Instance:0,Pays:c.selected_country()}),c.ajax(a,function(a,d){if(d&&clearTimeout(c.timeout[d.requestCode]),!a||!a.suggest)return[];a=a.suggest.slice(0,10);b(a)}));h(".ui-helper-hidden-accessible").remove()},minLength:0,delay:0,appendTo:h(c).parent(),create:function(){h(this).data("ui-autocomplete")._renderItem=c.render_item},select:function(a,b){return c.trigger("suggest",b.item),!0},focus:function(a,b){a.preventDefault()}}).focus(function(){h(this).data("ui-autocomplete")&&h(this).autocomplete("search",h(this).val())})),c.url=function(a){var b,d=[];for(b in a)a.hasOwnProperty(b)&&"fn"!==b&&"server"!==b&&d.push(b+"\x3d"+encodeURIComponent(a[b]));return window.SitePreferences.DqeAddressServer+a.fn+"/?"+d.join("\x26")+"\x26Licence\x3d"+c.license},n&&c.on("keypress",function(){c.clearBootstrapState()}),c}})(jQuery);(function(h){h.fn.dqephone=function(k){var c=this,r=SitePreferences.DQETimeoutMobile||2E3,n=SitePreferences.DQETimeoutDesktop||500,a=c.closest("div"),b=!1,e=!1;a.length?(b=a.find("span.glyphicon"),b.length?e="glyphicon":b=a.find("i.fa"),b.length?e="fa":b=!1):a=!1;k=h.extend({country:"FRA",format:0,license:""},k);return c.settings=k,c.server=k.server,c.license=k.license,c.countryField=3!==k.country.length&&h(k.country),c.autocheck=void 0===k.autocheck||k.autocheck,c.country=k.country,c.format=k.format,c.asmx=-1<c.server.toLowerCase().indexOf(".asmx"),c.asmx&&(h.ajaxSetup({type:"POST",contentType:"application/json; charset\x3dutf-8",data:"{}",processData:!1,dataFilter:function(a){return a="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse(a):eval("("+a+")"),a.hasOwnProperty("d")?a.d:a}}),h.ajaxPrefilter(function(a,b,c){a.data=JSON.stringify(b.data)})),"jsonp"===c.server?c.ajax=function(a,b){h.ajax({url:a,dataType:"jsonp",jsonp:"callback",success:function(a){b(JSON.parse(a))}})}:"cors"===c.server?c.ajax=function(a,b){h.ajax({url:a,method:"GET",dataType:"text",crossdomain:!0,success:function(a){b(JSON.parse(a))}})}:c.ajax=function(a,b){c.ajaxRequest=h.ajax({url:c.server,data:{url:a},method:"POST",dataType:"json",beforeSend:function(){c.timeout=setTimeout(function(){c.ajaxRequest&&c.ajaxRequest.abort();"function"==typeof b&&b()},Util&&Util.isMobile()?r:n)},success:b})},c.check=function(a,b,e){if((g=c.val())&&!c.is(":hidden")){var d=b||c.format,f=c.selected_country(),g=g.replace(/\s/g,"").trim();b={fn:"TEL",Pays:f,Tel:g,Format:d};c.trigger("checking",b);c.bootstrapState("loading");d={status:0,state:"error",response:0,country:f,input:g,isValid:null};if(!g)return c.trigger("checked",[d]),c.bootstrapState("error"),void(a&&window[a](d));(e=1===parseInt(e))&&(b.complete_check=1);b=c.url(b);c.responseHandler=function(b){clearTimeout(c.timeout);b=b&&b[1]?(b=b[1],parseInt(b.IdError,10),{status:1,input:g,output:b.Tel,state:"success",response:1,isValid:!!b.IdError,country:f}):{status:0,state:"timeout",response:0,isValid:null,country:f,input:g};c.trigger("checked",[b]);c.bootstrapState(b.state);a&&window[a](b)};c.ajax(b,c.responseHandler)}},c.isIE=function(){var a=navigator.userAgent;return-1<a.indexOf("MSIE ")||-1<a.indexOf("Trident/")||-1<a.indexOf("Edge/")},c.clearBootstrapState=function(){a&&a.removeClass("has-success").removeClass("has-warning").removeClass("has-error");b&&("glyphicon"===e?b.removeClass("glyphicon-ok").removeClass("glyphicon-warning-sign").removeClass("glyphicon-remove"):b.removeClass("fa-check").removeClass("fa-warning").removeClass("fa-remove").removeClass("fa-spin").removeClass("fa-cog"))},c.bootstrapState=function(d){var f;c.clearBootstrapState();d&&a.addClass("has-"+d);b&&("glyphicon"===e?(f={success:"ok",warning:"warning-sign",error:"remove"}[d],d&&b.addClass("glyphicon-"+f)):(f={success:"check",warning:"warning",error:"remove",loading:"cog"}[d],d&&b.addClass("fa-"+f),"loading"!==d||c.isIE()||b.addClass("fa-spin")))},c.selected_country=function(){return c.countryField?c.countryField.find("option:selected").data("iso"):c.country},c.removeAutocomplete=function(a){a.data("ui-autocomplete")&&(a.autocomplete("destroy"),a.removeData("ui-autocomplete"))},c.url=function(a){var b,d=[];for(b in a)a.hasOwnProperty(b)&&"fn"!==b&&"server"!==b&&d.push(b+"\x3d"+encodeURIComponent(a[b]));return window.SitePreferences.DqeAddressServer+a.fn+"/?"+d.join("\x26")+"\x26Licence\x3d"+c.license},c.autocheck&&(c.check(),c.off("blur.dqe").on("blur.dqe",function(){c.check()})),b&&c.off("keypress.dqe").on("keypress.dqe",function(){c.clearBootstrapState()}),c}})(jQuery);