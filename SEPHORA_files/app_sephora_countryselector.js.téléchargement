(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var root=require('./_root');var Symbol=root.Symbol;module.exports=Symbol;},{"./_root":24}],2:[function(require,module,exports){function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}
return array;}
module.exports=arrayEach;},{}],3:[function(require,module,exports){var baseTimes=require('./_baseTimes'),isArguments=require('./isArguments'),isArray=require('./isArray'),isBuffer=require('./isBuffer'),isIndex=require('./_isIndex'),isTypedArray=require('./isTypedArray');var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=='length'||(isBuff&&(key=='offset'||key=='parent'))||(isType&&(key=='buffer'||key=='byteLength'||key=='byteOffset'))||isIndex(key,length)))){result.push(key);}}
return result;}
module.exports=arrayLikeKeys;},{"./_baseTimes":11,"./_isIndex":18,"./isArguments":28,"./isArray":29,"./isBuffer":31,"./isTypedArray":36}],4:[function(require,module,exports){var baseForOwn=require('./_baseForOwn'),createBaseEach=require('./_createBaseEach');var baseEach=createBaseEach(baseForOwn);module.exports=baseEach;},{"./_baseForOwn":6,"./_createBaseEach":14}],5:[function(require,module,exports){var createBaseFor=require('./_createBaseFor');var baseFor=createBaseFor();module.exports=baseFor;},{"./_createBaseFor":15}],6:[function(require,module,exports){var baseFor=require('./_baseFor'),keys=require('./keys');function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys);}
module.exports=baseForOwn;},{"./_baseFor":5,"./keys":37}],7:[function(require,module,exports){var Symbol=require('./_Symbol'),getRawTag=require('./_getRawTag'),objectToString=require('./_objectToString');var nullTag='[object Null]',undefinedTag='[object Undefined]';var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}
return(symToStringTag&&symToStringTag in Object(value))?getRawTag(value):objectToString(value);}
module.exports=baseGetTag;},{"./_Symbol":1,"./_getRawTag":17,"./_objectToString":22}],8:[function(require,module,exports){var baseGetTag=require('./_baseGetTag'),isObjectLike=require('./isObjectLike');var argsTag='[object Arguments]';function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}
module.exports=baseIsArguments;},{"./_baseGetTag":7,"./isObjectLike":35}],9:[function(require,module,exports){var baseGetTag=require('./_baseGetTag'),isLength=require('./isLength'),isObjectLike=require('./isObjectLike');var argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}
module.exports=baseIsTypedArray;},{"./_baseGetTag":7,"./isLength":33,"./isObjectLike":35}],10:[function(require,module,exports){var isPrototype=require('./_isPrototype'),nativeKeys=require('./_nativeKeys');var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}
var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}
return result;}
module.exports=baseKeys;},{"./_isPrototype":19,"./_nativeKeys":20}],11:[function(require,module,exports){function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}
return result;}
module.exports=baseTimes;},{}],12:[function(require,module,exports){function baseUnary(func){return function(value){return func(value);};}
module.exports=baseUnary;},{}],13:[function(require,module,exports){var identity=require('./identity');function castFunction(value){return typeof value=='function'?value:identity;}
module.exports=castFunction;},{"./identity":27}],14:[function(require,module,exports){var isArrayLike=require('./isArrayLike');function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection;}
if(!isArrayLike(collection)){return eachFunc(collection,iteratee);}
var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while((fromRight?index--:++index<length)){if(iteratee(iterable[index],index,iterable)===false){break;}}
return collection;};}
module.exports=createBaseEach;},{"./isArrayLike":30}],15:[function(require,module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break;}}
return object;};}
module.exports=createBaseFor;},{}],16:[function(require,module,exports){(function(global){var freeGlobal=typeof global=='object'&&global&&global.Object===Object&&global;module.exports=freeGlobal;}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],17:[function(require,module,exports){var Symbol=require('./_Symbol');var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}
var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}
return result;}
module.exports=getRawTag;},{"./_Symbol":1}],18:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=='number'||(type!='symbol'&&reIsUint.test(value)))&&(value>-1&&value%1==0&&value<length);}
module.exports=isIndex;},{}],19:[function(require,module,exports){var objectProto=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=(typeof Ctor=='function'&&Ctor.prototype)||objectProto;return value===proto;}
module.exports=isPrototype;},{}],20:[function(require,module,exports){var overArg=require('./_overArg');var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys;},{"./_overArg":23}],21:[function(require,module,exports){var freeGlobal=require('./_freeGlobal');var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=='object'&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=(function(){try{var types=freeModule&&freeModule.require&&freeModule.require('util').types;if(types){return types;}
return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}());module.exports=nodeUtil;},{"./_freeGlobal":16}],22:[function(require,module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value);}
module.exports=objectToString;},{}],23:[function(require,module,exports){function overArg(func,transform){return function(arg){return func(transform(arg));};}
module.exports=overArg;},{}],24:[function(require,module,exports){var freeGlobal=require('./_freeGlobal');var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();module.exports=root;},{"./_freeGlobal":16}],25:[function(require,module,exports){module.exports=require('./forEach');},{"./forEach":26}],26:[function(require,module,exports){var arrayEach=require('./_arrayEach'),baseEach=require('./_baseEach'),castFunction=require('./_castFunction'),isArray=require('./isArray');function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,castFunction(iteratee));}
module.exports=forEach;},{"./_arrayEach":2,"./_baseEach":4,"./_castFunction":13,"./isArray":29}],27:[function(require,module,exports){function identity(value){return value;}
module.exports=identity;},{}],28:[function(require,module,exports){var baseIsArguments=require('./_baseIsArguments'),isObjectLike=require('./isObjectLike');var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};module.exports=isArguments;},{"./_baseIsArguments":8,"./isObjectLike":35}],29:[function(require,module,exports){var isArray=Array.isArray;module.exports=isArray;},{}],30:[function(require,module,exports){var isFunction=require('./isFunction'),isLength=require('./isLength');function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}
module.exports=isArrayLike;},{"./isFunction":32,"./isLength":33}],31:[function(require,module,exports){var root=require('./_root'),stubFalse=require('./stubFalse');var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=='object'&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer;},{"./_root":24,"./stubFalse":38}],32:[function(require,module,exports){var baseGetTag=require('./_baseGetTag'),isObject=require('./isObject');var asyncTag='[object AsyncFunction]',funcTag='[object Function]',genTag='[object GeneratorFunction]',proxyTag='[object Proxy]';function isFunction(value){if(!isObject(value)){return false;}
var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}
module.exports=isFunction;},{"./_baseGetTag":7,"./isObject":34}],33:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
module.exports=isLength;},{}],34:[function(require,module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=='object'||type=='function');}
module.exports=isObject;},{}],35:[function(require,module,exports){function isObjectLike(value){return value!=null&&typeof value=='object';}
module.exports=isObjectLike;},{}],36:[function(require,module,exports){var baseIsTypedArray=require('./_baseIsTypedArray'),baseUnary=require('./_baseUnary'),nodeUtil=require('./_nodeUtil');var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray;},{"./_baseIsTypedArray":9,"./_baseUnary":12,"./_nodeUtil":21}],37:[function(require,module,exports){var arrayLikeKeys=require('./_arrayLikeKeys'),baseKeys=require('./_baseKeys'),isArrayLike=require('./isArrayLike');function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}
module.exports=keys;},{"./_arrayLikeKeys":3,"./_baseKeys":10,"./isArrayLike":30}],38:[function(require,module,exports){function stubFalse(){return false;}
module.exports=stubFalse;},{}],39:[function(require,module,exports){var cookieUtils=require('../../../app_sephora_extended/cartridge/js/cookie');var util=require('../../../app_sephora_extended/cartridge/js/util');function displayCountrySelectorModal(event){var urlParams=util.getQueryStringParams(window.location.href);var key=urlParams&&urlParams['nowelcome']?urlParams['nowelcome']:null;if(key!=='true'&&event.showAccess){event.showModalCountrySelector=event.preferredSiteCookie===null||event.preferredSiteCookie==='';}
event.initCountrySelector=true;var redirectLocale=cookieUtils.cookie.getCookie('redirectLocale');if(redirectLocale&&redirectLocale.split('-').length>1&&redirectLocale.split('-')[1].toLowerCase()!=$('#selectedCountryID').val()){var language=redirectLocale.split('-')[0].split('_')[0];var locale=redirectLocale.split('-')[1];var fullLocale=$('.change-site-flag-name[data-language="'+language+'"][data-redirectlocale="'+locale+'"]').attr('data-redirectfulllocale');updateCountrySelector(fullLocale,locale);}else{updateCountrySelector($('#selectedCountryName').val());}}
function changeCountryFlagAndName(event){event.preventDefault();cookieUtils.cookie.setCookie('redirectLocale',event.language+'-'+event.redirectlocale,1);updateCountrySelector(event.redirectfulllocale,event.redirectlocale);if(event.dialog){event.dialog.close();}}
function updateCountrySelector(redirectfulllocale,redirectlocale){var $phoneCountrySelector=$('.access-menu-item .selected-site');var $headerItem=$('.header-item');var $phoneCountryFlag=$phoneCountrySelector.find('.country-selector-image')
var $currentCountryFlag=$('.selected-site').find('.country-selector-image');var currentFlagSrc=$currentCountryFlag.eq(0).attr('src');var newFlag=currentFlagSrc.substring(0,currentFlagSrc.lastIndexOf('/'));$('.footer-item').find('.selected-site span').text(redirectfulllocale);$headerItem.find('.selected-site span.hide-for-medium').text(redirectfulllocale);$phoneCountrySelector.find('span.hide-for-medium').text(redirectfulllocale);if(redirectlocale){$phoneCountryFlag.attr('src',newFlag+'/'+redirectlocale.toLowerCase()+'-flag.svg');$currentCountryFlag.attr('src',newFlag+'/'+redirectlocale.toLowerCase()+'-flag.svg');var $languageLink=$('.site-language-link-after');$languageLink.addClass('hide');$languageLink.not('[data-redirectlocale='+redirectlocale+']').removeClass('hide');$('#selectedCountryID').val(redirectlocale.toLowerCase());}}
var countryselectorApp={init:function(){document.addEventListener('initCountrySelectorModal',function(event){displayCountrySelectorModal(event);},false);document.addEventListener('initChangeFlagAndName',function(event){changeCountryFlagAndName(event);},false);}};$(document).ready(countryselectorApp.init);},{"../../../app_sephora_extended/cartridge/js/cookie":40,"../../../app_sephora_extended/cartridge/js/util":41}],40:[function(require,module,exports){'use strict';var cookie={getCookie:function(key){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var tokens=cookies[i].split('=');var cookieKey=tokens[0].trim();if(cookieKey===key){return tokens[1];}}
return '';},setCookie:function(key,value,exdays){var date=new Date();date.setTime(date.getTime()+(exdays*24*60*60*1000));document.cookie=key+'='+value+'; expires='+date.toGMTString()+'; path=/';}};exports.cookie=cookie;},{}],41:[function(require,module,exports){'use strict';var each=require('lodash/each');function getStringPositionInArray(_searchString,_array,_skipRegister,_comparingParameter){var flag=_skipRegister?'i':''
var regex=new RegExp('^'+_searchString+'$',flag);var elementPosition=-1;if(_skipRegister){_searchString=_searchString.toUpperCase();}
$.each(_array,function(i,elem){if(elem&&_comparingParameter){elem=elem[_comparingParameter];}
if(typeof elem=="string"){if(regex.test(elem)){elementPosition=i;return false;}}});return elementPosition;}
var util={isHover:function(){if(!('ontouchstart'in window||window.DocumentTouch&&document instanceof DocumentTouch)){$('html').addClass('no-touch');}else{$('html').removeClass('no-touch');}},isiPhone:function(){return!!navigator.platform&&/iPhone/.test(navigator.platform);},isIE:function(){return!!window.navigator.userAgent&&/MSIE |Trident/.test(window.navigator.userAgent);},isEdge:function(){return!!window.navigator.userAgent&&/Edge/.test(window.navigator.userAgent);},iOSVersion:function(){return parseFloat((''+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,''])[1]).replace('undefined','3_2').replace('_','.').replace('_',''))||false;},chromeVersion:function(){var raw=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return raw?parseInt(raw[2],10):-1;},appendParamToURL:function(url,name,value){if(url.indexOf(name+'=')!==-1){return url;}
var separator=url.indexOf('?')!==-1?'&':'?';return url+separator+name+'='+encodeURIComponent(value);},isLoaded:function(el){if(typeof el.naturalWidth=='number'&&typeof el.naturalHeight=='number'){return!(el.naturalWidth==0&&el.naturalHeight==0);}else if(typeof el.complete=='boolean'){return el.complete;}else{return true;}},isInView:function($el){if($el.length==0){return false;}
return $el.offset().top-$(window).scrollTop()<$(window).height();},removeParamFromURL:function(url,name){if(url.indexOf('?')===-1||url.indexOf(name+'=')===-1){return url;}
var hash;var params;var domain=url.split('?')[0];var paramUrl=url.split('?')[1];var newParams=[];if(paramUrl.indexOf('#')>-1){hash=paramUrl.split('#')[1]||'';paramUrl=paramUrl.split('#')[0];}
params=paramUrl.split('&');for(var i=0;i<params.length;i++){if(params[i].split('=')[0]!==name){newParams.push(params[i]);}}
return domain+'?'+newParams.join('&')+(hash?'#'+hash:'');},initEvent:function(params,name){var event;var keys=Object.keys(params);if(typeof(Event)==='function'){event=new Event(name);}else{event=document.createEvent('Event');event.initEvent(name,true,true);}
for(var i=0;i<keys.length;i++){event[keys[i]]=params[keys[i]]}
document.dispatchEvent(event);return event;},appendParamsToUrl:function(url,params){var _url=url;each(params,function(value,name){_url=this.appendParamToURL(_url,name,value);}.bind(this));return _url;},removeParamsFromURL:function(url,params){var _url=url;each(params,function(value){_url=this.removeParamFromURL(_url,value);}.bind(this));return _url;},getQueryString:function(url){var qs;if(typeof url!=='string'){return;}
var a=document.createElement('a');a.href=url;if(a.search){qs=a.search.substr(1);}
return qs;},elementInViewport:function(el,offsetToTop){var top=el.offsetTop,left=el.offsetLeft,width=el.offsetWidth,height=el.offsetHeight;while(el.offsetParent){el=el.offsetParent;top+=el.offsetTop;left+=el.offsetLeft;}
if(typeof(offsetToTop)!=='undefined'){top-=offsetToTop;}
if(window.pageXOffset!==null){return(top<(window.pageYOffset+window.innerHeight)&&left<(window.pageXOffset+window.innerWidth)&&(top+height)>window.pageYOffset&&(left+width)>window.pageXOffset);}
if(document.compatMode==='CSS1Compat'){return(top<(window.document.documentElement.scrollTop+window.document.documentElement.clientHeight)&&left<(window.document.documentElement.scrollLeft+window.document.documentElement.clientWidth)&&(top+height)>window.document.documentElement.scrollTop&&(left+width)>window.document.documentElement.scrollLeft);}},ajaxUrl:function(path){return this.appendParamToURL(path,'format','ajax');},toAbsoluteUrl:function(url){if(url.indexOf('http')!==0&&url.charAt(0)!=='/'){url='/'+url;}
return url;},loadDynamicCss:function(urls){var i,len=urls.length;for(i=0;i<len;i++){this.loadedCssFiles.push(this.loadCssFile(urls[i]));}},loadCssFile:function(url){return $('<link/>').appendTo($('head')).attr({type:'text/css',rel:'stylesheet'}).attr('href',url);},loadedCssFiles:[],clearDynamicCss:function(){var i=this.loadedCssFiles.length;while(0>i--){$(this.loadedCssFiles[i]).remove();}
this.loadedCssFiles=[];},getQueryStringParams:function(qs){if(!qs||qs.length===0){return{};}
var params={},unescapedQS=decodeURIComponent(qs);unescapedQS.replace(new RegExp('([^?=&]+)(=([^&]*))?','g'),function($0,$1,$2,$3){params[$1]=$3;});return params;},fillAddressFields:function(address,$form){for(var field in address){if(field==='UUID'||field==='key'){continue;}
$form.find('[name$="'+field.replace('Code','')+'"]').val(address[field]);if(field==='countryCode'){$form.find('[name$="country"]').trigger('change');$form.find('[name$="state"]').val(address.stateCode);}}},limitCharacters:function(){$('form').find('textarea[data-character-limit]').each(function(){var characterLimit=$(this).data('character-limit');var charCountHtml='<span class="char-remain-count">'+characterLimit+'</span>'+'<span class="line-break"> / </span>'+'<span class="char-allowed-count">'+characterLimit+'</span>';var charCountContainer=$(this).next('div.char-count');if(charCountContainer.length===0){charCountContainer=$('<div class="char-count"/>').insertAfter($(this));}
charCountContainer.html(charCountHtml);$(this).change();});},setDeleteConfirmation:function(container,message){$(container).on('click','.delete',function(){return window.confirm(message);});},scrollBrowser:function(xLocation){$('html, body').animate({scrollTop:xLocation},500);},isMobile:function(){var mobileAgentHash=['mobile','tablet','phone','ipad','ipod','android','blackberry','windows ce','opera mini','palm'];var idx=0;var isMobile=false;var userAgent=(navigator.userAgent).toLowerCase();while(mobileAgentHash[idx]&&!isMobile){isMobile=(userAgent.indexOf(mobileAgentHash[idx])>=0);idx++;}
return isMobile;},isChromeMobile:function(){if(/Chrome/i.test(navigator.userAgent)&&this.isMobile())
return true;return false;},getCookie:function(cname){if(!(typeof cname==='string'||cname instanceof String)){return '';}
var name=cname+'=';var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var c,i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return '';},getCorrectFrenchCityName:function(cityName){cityName=cityName.toLowerCase().trim();var matchArray=cityName.match(/\w+'*\w+/g);if(matchArray){matchArray.forEach(function(word){if(!(/^(sur|de|des|la|en|lès|aux|du|sous)$/.test(word))){cityName=cityName.replace(word,function(cityName){return cityName.replace(/\w(?!.*')/,function(letter){return letter.toUpperCase();});});}});}
return cityName.charAt(0).toUpperCase()+cityName.slice(1);},isiOS:function(){return!!(navigator.userAgent.match(/iPad|iPhone/i));},insertCharAt:function(string,position,insertion){if(string&&position&&insertion){return string.slice(0,position)+insertion+string.slice(position);}},truncateText:function(string,maxLength,useWordBoundary){if(string.length<=maxLength){return string;}
var subString=string.substr(0,maxLength-1);return(useWordBoundary?subString.substr(0,subString.lastIndexOf(' ')):subString)+"...";},getCountryISO:function(country){var table={AF:'AFG',AX:'ALA',AL:'ALB',DZ:'DZA',AS:'ASM',AD:'AND',AO:'AGO',AI:'AIA',AQ:'ATA',AG:'ATG',AR:'ARG',AM:'ARM',AW:'ABW',AU:'AUS',AT:'AUT',AZ:'AZE',BS:'BHS',BH:'BHR',BD:'BGD',BB:'BRB',BY:'BLR',BE:'BEL',BZ:'BLZ',BJ:'BEN',BM:'BMU',BT:'BTN',BO:'BOL',BA:'BIH',BW:'BWA',BV:'BVT',BR:'BRA',VG:'VGB',IO:'IOT',BN:'BRN',BG:'BGR',BF:'BFA',BI:'BDI',KH:'KHM',CM:'CMR',CA:'CAN',CV:'CPV',KY:'CYM',CF:'CAF',TD:'TCD',CL:'CHL',CN:'CHN',HK:'HKG',MO:'MAC',CX:'CXR',CC:'CCK',CO:'COL',KM:'COM',CG:'COG',CD:'COD',CK:'COK',CR:'CRI',CI:'CIV',HR:'HRV',CU:'CUB',CY:'CYP',CZ:'CZE',DK:'DNK',DJ:'DJI',DM:'DMA',DO:'DOM',EC:'ECU',EG:'EGY',SV:'SLV',GQ:'GNQ',ER:'ERI',EE:'EST',ET:'ETH',FK:'FLK',FO:'FRO',FJ:'FJI',FI:'FIN',FR:'FRA',GF:'GUF',PF:'PYF',TF:'ATF',GA:'GAB',GM:'GMB',GE:'GEO',DE:'DEU',GH:'GHA',GI:'GIB',GR:'GRC',GL:'GRL',GD:'GRD',GP:'GLP',GU:'GUM',GT:'GTM',GG:'GGY',GN:'GIN',GW:'GNB',GY:'GUY',HT:'HTI',HM:'HMD',VA:'VAT',HN:'HND',HU:'HUN',IS:'ISL',IN:'IND',ID:'IDN',IR:'IRN',IQ:'IRQ',IE:'IRL',IM:'IMN',IL:'ISR',IT:'ITA',JM:'JAM',JP:'JPN',JE:'JEY',JO:'JOR',KZ:'KAZ',KE:'KEN',KI:'KIR',KP:'PRK',KR:'KOR',KW:'KWT',KG:'KGZ',LA:'LAO',LV:'LVA',LB:'LBN',LS:'LSO',LR:'LBR',LY:'LBY',LI:'LIE',LT:'LTU',LU:'LUX',MK:'MKD',MG:'MDG',MW:'MWI',MY:'MYS',MV:'MDV',ML:'MLI',MT:'MLT',MH:'MHL',MQ:'MTQ',MR:'MRT',MU:'MUS',YT:'MYT',MX:'MEX',FM:'FSM',MD:'MDA',MC:'MCO',MN:'MNG',ME:'MNE',MS:'MSR',MA:'MAR',MZ:'MOZ',MM:'MMR',NA:'NAM',NR:'NRU',NP:'NPL',NL:'NLD',AN:'ANT',NC:'NCL',NZ:'NZL',NI:'NIC',NE:'NER',NG:'NGA',NU:'NIU',NF:'NFK',MP:'MNP',NO:'NOR',OM:'OMN',PK:'PAK',PW:'PLW',PS:'PSE',PA:'PAN',PG:'PNG',PY:'PRY',PE:'PER',PH:'PHL',PN:'PCN',PL:'POL',PT:'PRT',PR:'PRI',QA:'QAT',RE:'REU',RO:'ROU',RU:'RUS',RW:'RWA',BL:'BLM',SH:'SHN',KN:'KNA',LC:'LCA',MF:'MAF',PM:'SPM',VC:'VCT',WS:'WSM',SM:'SMR',ST:'STP',SA:'SAU',SN:'SEN',RS:'SRB',SC:'SYC',SL:'SLE',SG:'SGP',SK:'SVK',SI:'SVN',SB:'SLB',SO:'SOM',ZA:'ZAF',GS:'SGS',SS:'SSD',ES:'ESP',LK:'LKA',SD:'SDN',SR:'SUR',SJ:'SJM',SZ:'SWZ',SE:'SWE',CH:'CHE',SY:'SYR',TW:'TWN',TJ:'TJK',TZ:'TZA',TH:'THA',TL:'TLS',TG:'TGO',TK:'TKL',TO:'TON',TT:'TTO',TN:'TUN',TR:'TUR',TM:'TKM',TC:'TCA',TV:'TUV',UG:'UGA',UA:'UKR',AE:'ARE',GB:'GBR',US:'USA',UM:'UMI',UY:'URY',UZ:'UZB',VU:'VUT',VE:'VEN',VN:'VNM',VI:'VIR',WF:'WLF',EH:'ESH',YE:'YEM',ZM:'ZMB',ZW:'ZWE'};country=(typeof country=='string')?country.toUpperCase():'';return table[country]?table[country]:'';},correctPolishPlural:function(sentence){var util=this;return sentence.replace(/(\[(\d| )+\])([^\]]*)(\[[^0-9\s\\]+\])(?!\[\d+\])/g,function(param,number,lastDigit,spacing,word){number=number.replace('[','').replace(']','');word=word.replace('[','').replace(']','');var quantity=parseInt(number.replace('/ /g',''));if(!isNaN(quantity)){var endInI=/[i]$/i.test(word);if(quantity==1){word=word.slice(0,-1)+'ę';}else if(/(\d*[^1]|^)[234]$/.test(quantity)){word=util.endingWithVowel(word)?word.slice(0,-1)+'i':word+'y';}else if(!endInI&&(/(1{2})$/.test(quantity)||lastDigit!=1)&&quantity!=0){word=util.endingWithVowel(word)?word.slice(0,-1)+'i':word+'ów';}}
return number+spacing+word;});},endingWithVowel:function(word){return /[aeiouóyęą]$/i.test(word);},getCityLabel:function(cityValue,country,inUppercase){var cityLabel=cityValue;if(SitePreferences.cities&&SitePreferences.cities[country]){var cityLabelPosition=getStringPositionInArray(cityValue,SitePreferences.cities[country],true,'value');if(cityLabelPosition!=-1){cityLabel=SitePreferences.cities[country][cityLabelPosition]['label'];}}
return inUppercase?cityLabel.toUpperCase():cityLabel;},formatPrice:function(price){return price.toLocaleString({},{'minimumFractionDigits':2});},getStringPositionInArray:getStringPositionInArray,isTabletDesktop:function(){var userAgent=(navigator.userAgent).toLowerCase();var isTabletDesktop=false;if((userAgent.indexOf('iPhone')==-1)||(userAgent.indexOf('android')>-1&&userAgent.indexOf('mobile')==-1)||(userAgent.indexOf('iPad')>-1)){isTabletDesktop=true;}
return isTabletDesktop;},getDisplayPrice:function(displayPrice){return displayPrice.replace(/[^\d\.\,]/g,'').replace(/,/g,'.');},getPriceWithCurrency:function(element,price){return element.replace(/\d+([,|\.]\d+)*/,price);},isEquivalent:function(a,b){var aProps=Object.getOwnPropertyNames(a);var bProps=Object.getOwnPropertyNames(b);if(aProps.length!=bProps.length){return false;}
for(var i=0;i<aProps.length;i++){var propName=aProps[i];if(a[propName]!==b[propName]){return false;}}
return true;},barcodeGenerator:function(barcodeWrapper,InputString,barcodeType,responsiveBarWidth,responsiveBarHeight){barcodeWrapper.barcode(InputString,barcodeType,{barWidth:responsiveBarWidth,showHRI:false,bgColor:"#00000000",barHeight:responsiveBarHeight});},validateFieldEngraving:function(){var str='';var $engravingInputs=$('.js-row-field-number-charac .input-text');$engravingInputs.each(function(index,input){str+=input.value.trim();});return str.length>0;},getStoreHours:function(schedule,weekday){try{var availableHours=[];var lunchStart;var lunchEnd;schedule=JSON.parse(schedule);if(schedule[weekday]&&schedule[weekday].OpeningHours){var scheduleHours=schedule[weekday].OpeningHours;var openingTime=scheduleHours.startTime1.hour||scheduleHours.startTime1.minutes?scheduleHours.startTime1:null;var closingTime=scheduleHours.endTime2.hour||scheduleHours.endTime2.minutes?scheduleHours.endTime2:null;var openingDate=new Date();var closingDate=new Date();openingDate.setHours(openingTime.hour);openingDate.setMinutes(openingTime.minutes);closingDate.setHours(closingTime.hour);closingDate.setMinutes(closingTime.minutes);if(scheduleHours.endTime1.hour&&scheduleHours.startTime2.hour){lunchStart=new Date();lunchEnd=new Date();lunchStart.setHours(scheduleHours.endTime1.hour);lunchStart.setMinutes(scheduleHours.endTime1.minutes);lunchEnd.setHours(scheduleHours.startTime2.hour);lunchEnd.setMinutes(scheduleHours.startTime2.minutes);}
while(openingDate<closingDate){if(!lunchStart||openingDate<lunchStart||openingDate>=lunchEnd){availableHours.push(openingDate.toTimeString().slice(0,5));}
openingDate.setHours(openingDate.getHours()+1);if(isNaN(openingDate.getTime())||isNaN(closingDate.getTime())){break;}}
return availableHours;}}catch(error){console.log("Can't parse schedule object")}},fallbackCopyTextToClipboard:function(textTocopy){var $temp=$("<input>");$("body").append($temp);$temp.val(textTocopy).focus().select();document.execCommand('copy');$temp.remove();},copyToclipboard:function(textTocopy){if(!navigator.clipboard){this.fallbackCopyTextToClipboard(textTocopy);return;}
navigator.clipboard.writeText(textTocopy);},escapeSelectorCharacters:function(string){return string.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]\^`{|}~ ]/g,"\\$&");},removeZeroPhonePref:function(phone){var phoneValue=phone.val();var phoneValNoSpace=phoneValue.replace(/ /g,'');var phonePrefix=phone.data('prefix-country').toUpperCase();var removeZeroArrJSON=SitePreferences.removeZeroArr;var removeZeroArr;if(removeZeroArrJSON){try{removeZeroArr=JSON.parse(removeZeroArrJSON);}catch(e){}}
if(removeZeroArr&&removeZeroArr.hasOwnProperty(phonePrefix)){for(var i=0;i<removeZeroArr[phonePrefix].length;i++){var el=removeZeroArr[phonePrefix][i];var phonePref=phoneValNoSpace.substring(0,el.length);if(phonePref===el&&phoneValNoSpace.match(/^0[0-9]{9}$/)){phone.val(phoneValue.substring(1));break;}}}else if(phoneValNoSpace.match(/^0[0-9]{9}$/)){phone.val(phoneValue.substring(1));}}};window.Util=util;module.exports=util;$.validator.prototype.checkElement=function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}
if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}
return result;}
$.fn.bindFirst=function(name,fn){this.on(name,fn);this.each(function(){var handlers=$._data(this,'events')[name.split('.')[0]];var handler=handlers.pop();handlers.splice(0,0,handler);});};$.fn.syncHeight=function(){var arr=$.makeArray(this);arr.sort(function(a,b){return $(a).height()-$(b).height();});return this.height($(arr[arr.length-1]).height());};$.fn.escape=function(callback,once){return this.each(function(){$(document).on("keydown.escape",this,function(e){var keycode=((typeof e.keyCode!='undefined'&&e.keyCode)?e.keyCode:e.which);if(keycode===27){callback.call(this,e);if(once)$(document).off("keydown.escape");};});});};},{"lodash/each":25}]},{},[39])